[gd_scene load_steps=16 format=3 uid="uid://b8ppw7e2tpk13"]

[ext_resource type="Script" path="res://assets/scripts/characters/spawners/NpcSpawner.cs" id="1_5n4gl"]
[ext_resource type="PackedScene" uid="uid://bjqal8lmw22dr" path="res://objects/characters/npc.tscn" id="2_ch63m"]
[ext_resource type="Script" path="res://assets/scripts/props/RandomPoint.cs" id="3_1osu1"]
[ext_resource type="Script" path="res://assets/scripts/characters/spawners/PlayerSpawner.cs" id="4_ttbyx"]
[ext_resource type="PackedScene" uid="uid://10apxtjoyl6m" path="res://objects/characters/player.tscn" id="5_fh4su"]

[sub_resource type="NavigationMesh" id="NavigationMesh_12a3e"]
vertices = PackedVector3Array(-0.62507, 0.179401, 0.8536, -0.92507, 0.179401, 0.2536, -1.22507, 0.179401, 0.2536, -1.22507, 0.179401, 1.7536, 1.17493, 0.179401, 0.8536, 1.17493, 0.179401, -0.0464001, 0.57493, 0.179401, -0.0464001, 0.27493, 0.179401, 0.8536, 2.07493, 0.179401, 4.1536, 2.07493, 0.179401, 1.1536, -1.22507, 0.179401, 1.7536, -2.42507, 0.179401, 2.0536, -6.02507, 0.179401, 4.1536, -2.72507, 0.179401, -0.9464, -2.12507, 0.179401, -1.2464, -2.12507, 0.179401, -4.2464, -6.02507, 0.179401, -4.2464, 0.27493, 0.179401, 0.8536, -0.62507, 0.179401, 0.8536, -1.22507, 0.179401, 1.7536, 2.07493, 0.179401, 1.1536, 1.17493, 0.179401, 0.8536, 0.27493, 0.179401, 0.8536, -1.22507, 0.179401, 1.7536, -2.72507, 0.179401, -0.9464, -6.02507, 0.179401, -4.2464, -6.02507, 0.179401, 4.1536, -2.42507, 0.179401, 2.0536, -1.22507, 0.179401, 0.2536, -0.92507, 0.179401, 0.2536, -0.62507, 0.179401, -0.6464, -1.22507, 0.179401, -0.9464, -2.12507, 0.179401, -4.2464, -2.12507, 0.179401, -1.2464, 1.17493, 0.179401, -1.8464, 2.37493, 0.179401, -2.1464, 5.97493, 0.179401, -4.2464, 0.27493, 0.179401, -0.6464, 0.57493, 0.179401, -0.0464001, 1.17493, 0.179401, -0.0464001, 1.17493, 0.179401, -1.8464, 2.67493, 0.179401, 0.8536, 2.07493, 0.179401, 1.1536, 2.07493, 0.179401, 4.1536, 5.97493, 0.179401, 4.1536, -1.22507, 0.179401, -0.9464, -0.62507, 0.179401, -0.6464, 0.27493, 0.179401, -0.6464, -2.12507, 0.179401, -1.2464, -1.22507, 0.179401, -0.9464, 0.27493, 0.179401, -0.6464, 1.17493, 0.179401, -1.8464, 2.67493, 0.179401, 0.8536, 5.97493, 0.179401, 4.1536, 5.97493, 0.179401, -4.2464, 2.37493, 0.179401, -2.1464)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(10, 9, 11), PackedInt32Array(11, 9, 8), PackedInt32Array(11, 8, 12), PackedInt32Array(14, 13, 15), PackedInt32Array(15, 13, 16), PackedInt32Array(19, 18, 17), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 20, 23), PackedInt32Array(27, 26, 24), PackedInt32Array(24, 26, 25), PackedInt32Array(29, 28, 30), PackedInt32Array(30, 28, 31), PackedInt32Array(34, 33, 35), PackedInt32Array(35, 33, 32), PackedInt32Array(35, 32, 36), PackedInt32Array(38, 37, 39), PackedInt32Array(39, 37, 40), PackedInt32Array(42, 41, 43), PackedInt32Array(43, 41, 44), PackedInt32Array(47, 46, 45), PackedInt32Array(49, 48, 50), PackedInt32Array(50, 48, 51), PackedInt32Array(55, 54, 52), PackedInt32Array(52, 54, 53)]
cell_size = 0.3
cell_height = 0.1
agent_radius = 0.3
agent_max_climb = 0.1

[sub_resource type="PlaneMesh" id="PlaneMesh_7py6j"]

[sub_resource type="BoxShape3D" id="BoxShape3D_gl400"]
size = Vector3(12.6237, 0.0213381, 9.11574)

[sub_resource type="BoxMesh" id="BoxMesh_5ujl3"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ov206"]
size = Vector3(0.669475, 1, 2.47127)

[sub_resource type="BoxMesh" id="BoxMesh_2bv6b"]

[sub_resource type="BoxShape3D" id="BoxShape3D_fwhrj"]
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_wuu61"]

[sub_resource type="Sky" id="Sky_ry8j7"]
sky_material = SubResource("ProceduralSkyMaterial_wuu61")

[sub_resource type="Environment" id="Environment_82egu"]
background_mode = 2
background_energy_multiplier = 1.2
sky = SubResource("Sky_ry8j7")
ambient_light_source = 3
ambient_light_color = Color(0.32549, 0.345098, 0.372549, 1)

[node name="Scene" type="Node3D"]

[node name="props" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_12a3e")

[node name="Plane" type="StaticBody3D" parent="props"]
collision_layer = 4

[node name="mesh" type="MeshInstance3D" parent="props/Plane"]
transform = Transform3D(6.32507, 0, 0, 0, 1, 0, 0, 0, 4.5464, 0, 0, 0)
mesh = SubResource("PlaneMesh_7py6j")

[node name="shape" type="CollisionShape3D" parent="props/Plane"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.00711274, 0)
shape = SubResource("BoxShape3D_gl400")

[node name="Wall" type="StaticBody3D" parent="props"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.00381, 0.495025, -0.536902)
collision_layer = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="props/Wall"]
transform = Transform3D(0.663037, 0, 0, 0, 1, 0, 0, 0, 2.47108, 0, 0, 0)
mesh = SubResource("BoxMesh_5ujl3")

[node name="shape" type="CollisionShape3D" parent="props/Wall"]
shape = SubResource("BoxShape3D_ov206")

[node name="Wall2" type="StaticBody3D" parent="props"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.9595, 0.495025, 0.328166)
collision_layer = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="props/Wall2"]
transform = Transform3D(0.663037, 0, 0, 0, 1, 0, 0, 0, 2.47108, 0, 0, 0)
mesh = SubResource("BoxMesh_5ujl3")

[node name="shape" type="CollisionShape3D" parent="props/Wall2"]
shape = SubResource("BoxShape3D_ov206")

[node name="box" type="StaticBody3D" parent="props"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0750965, 0.229401, 0.0322416)
collision_layer = 4

[node name="mesh" type="MeshInstance3D" parent="props/box"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0)
mesh = SubResource("BoxMesh_2bv6b")

[node name="shape" type="CollisionShape3D" parent="props/box"]
shape = SubResource("BoxShape3D_fwhrj")

[node name="characters" type="Node3D" parent="."]

[node name="charactersSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://objects/characters/player.tscn", "res://objects/characters/npc.tscn")
spawn_path = NodePath("../characters")

[node name="npcSpawner" type="Node3D" parent="." node_paths=PackedStringArray("npcParent")]
script = ExtResource("1_5n4gl")
npcParent = NodePath("../characters")
npcPrefab = ExtResource("2_ch63m")
count = 7
spriteCodes = Array[String](["pony1", "pony2", "pony3", "pony4", "pony5", "pony42", "strikely", "wonderbolt1", "chief1"])
metadata/_edit_lock_ = true

[node name="1" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.67614, 0, 2.42464)
script = ExtResource("3_1osu1")
RandomRadius = 3.0

[node name="2" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.634609, 0, 1.49995)
script = ExtResource("3_1osu1")
RandomRadius = 2.0

[node name="3" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.56351, 0, -2.57806)
script = ExtResource("3_1osu1")
RandomRadius = 3.0

[node name="4" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.15687, 0, -2.7719)
script = ExtResource("3_1osu1")
RandomRadius = 3.0

[node name="5" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.03705, 0, 0.327586)
script = ExtResource("3_1osu1")

[node name="6" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.836606, 0, -0.548822)
script = ExtResource("3_1osu1")

[node name="7" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.43015, 0, 2.83644)
script = ExtResource("3_1osu1")
RandomRadius = 4.0

[node name="playerThiefSpawner" type="Node3D" parent="." node_paths=PackedStringArray("playersParent")]
script = ExtResource("4_ttbyx")
playersParent = NodePath("../characters")
playerTypeFilter = 1
playerPrefab = ExtResource("5_fh4su")
spriteCodes = Array[String](["pony1", "pony2", "pony3", "pony4", "pony5", "pony42", "strikely", "wonderbolt1"])

[node name="1" type="Node3D" parent="playerThiefSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.12987, 0, -3.18642)
script = ExtResource("3_1osu1")
RandomRadius = 3.0

[node name="2" type="Node3D" parent="playerThiefSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.46863, 0, -0.646357)
script = ExtResource("3_1osu1")
RandomRadius = 3.0

[node name="3" type="Node3D" parent="playerThiefSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.15361, 0, 2.62433)
script = ExtResource("3_1osu1")
RandomRadius = 3.0

[node name="playerGuardSpawner" type="Node3D" parent="." node_paths=PackedStringArray("playersParent")]
script = ExtResource("4_ttbyx")
playersParent = NodePath("../characters")
playerTypeFilter = 2
playerPrefab = ExtResource("5_fh4su")
spriteCodes = Array[String](["guard1", "guard2", "guard3"])

[node name="1" type="Node3D" parent="playerGuardSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.02239, 0, -1.98983)
script = ExtResource("3_1osu1")
RandomRadius = 3.0

[node name="2" type="Node3D" parent="playerGuardSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.5486, 0, 1.812)
script = ExtResource("3_1osu1")
RandomRadius = 3.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.829788, -0.412792, -0.375572, 0.0101, -0.683972, 0.729439, -0.557987, 0.601487, 0.571721, 0, 0, 0)
shadow_enabled = true
shadow_opacity = 0.8
directional_shadow_mode = 1
directional_shadow_split_1 = 0.05

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_82egu")

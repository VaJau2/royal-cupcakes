[gd_scene load_steps=14 format=3 uid="uid://b3feoig2hk77u"]

[ext_resource type="Script" path="res://assets/scripts/characters/NpcSpawner.cs" id="1_d445e"]
[ext_resource type="PackedScene" uid="uid://bjqal8lmw22dr" path="res://objects/characters/npc.tscn" id="2_ch63m"]
[ext_resource type="Script" path="res://assets/scripts/props/RandomPoint.cs" id="3_1osu1"]

[sub_resource type="NavigationMesh" id="NavigationMesh_12a3e"]
vertices = PackedVector3Array(-1.32507, 0.179401, 0.0535998, -0.72507, 0.179401, 0.0535998, -0.52507, 0.179401, -0.5464, -1.52507, 0.179401, -1.1464, -6.12507, 0.179401, -0.7464, -2.52507, 0.179401, -0.7464, -2.32507, 0.179401, -1.1464, 0.27493, 0.179401, -0.5464, 0.47493, 0.179401, 0.0535998, 1.27493, 0.179401, 0.0535998, 1.27493, 0.179401, -1.9464, -2.32507, 0.179401, -1.1464, -1.52507, 0.179401, -1.1464, 1.27493, 0.179401, -1.9464, -1.52507, 0.179401, -1.1464, -0.52507, 0.179401, -0.5464, 0.27493, 0.179401, -0.5464, 1.27493, 0.179401, -1.9464, 1.27493, 0.179401, -1.9464, 2.07493, 0.179401, -2.1464, 2.07493, 0.179401, -4.3464, -6.12507, 0.179401, -4.3464, -6.12507, 0.179401, -0.7464, -2.32507, 0.179401, -1.1464, 2.07493, 0.179401, -4.3464, 2.07493, 0.179401, -2.1464, 2.67493, 0.179401, -1.9464, 6.07493, 0.179401, -4.3464, 2.67493, 0.179401, -1.9464, 2.47493, 0.179401, 1.0536, 6.07493, 0.179401, 1.2536, 6.07493, 0.179401, -4.3464, 1.67493, 1.1794, -1.7464, 1.67493, 1.1794, 0.6536, 2.27493, 1.1794, 0.6536, 2.27493, 1.1794, -1.7464, -1.92507, 0.179401, 4.2536, -1.92507, 0.179401, 1.8536, -2.52507, 0.179401, 1.6536, -2.52507, 0.179401, 1.6536, -2.52507, 0.179401, -0.7464, -6.12507, 0.179401, -0.7464, -2.52507, 0.179401, 1.6536, -6.12507, 0.179401, -0.7464, -6.12507, 0.179401, 4.2536, -1.92507, 0.179401, 4.2536, -2.12507, 1.1794, -0.7464, -2.12507, 1.1794, 1.4536, -1.72507, 1.1794, 1.4536, -1.72507, 1.1794, -0.7464, -0.32507, 0.679401, -0.1464, -0.32507, 0.679401, 0.2536, 0.0749302, 0.679401, 0.2536, 0.0749302, 0.679401, -0.1464, -0.52507, 0.179401, 0.6536, -0.72507, 0.179401, 0.0535998, -1.32507, 0.179401, 0.0535998, -1.32507, 0.179401, 1.6536, 1.27493, 0.179401, 0.0535998, 0.47493, 0.179401, 0.0535998, 0.27493, 0.179401, 0.6536, 1.47493, 0.179401, 1.0536, 2.47493, 0.179401, 1.0536, 1.47493, 0.179401, 1.0536, -1.32507, 0.179401, 1.6536, -1.92507, 0.179401, 4.2536, 6.07493, 0.179401, 4.2536, 6.07493, 0.179401, 1.2536, -1.32507, 0.179401, 1.6536, -1.92507, 0.179401, 1.8536, -1.92507, 0.179401, 4.2536, 0.27493, 0.179401, 0.6536, -0.52507, 0.179401, 0.6536, -1.32507, 0.179401, 1.6536, 1.47493, 0.179401, 1.0536)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(6, 5, 4), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 10), PackedInt32Array(11, 13, 12), PackedInt32Array(15, 14, 16), PackedInt32Array(16, 14, 17), PackedInt32Array(19, 18, 20), PackedInt32Array(20, 18, 23), PackedInt32Array(20, 23, 22), PackedInt32Array(20, 22, 21), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 27), PackedInt32Array(29, 28, 30), PackedInt32Array(30, 28, 31), PackedInt32Array(35, 34, 32), PackedInt32Array(32, 34, 33), PackedInt32Array(38, 37, 36), PackedInt32Array(41, 40, 39), PackedInt32Array(45, 44, 42), PackedInt32Array(42, 44, 43), PackedInt32Array(49, 48, 46), PackedInt32Array(46, 48, 47), PackedInt32Array(53, 52, 50), PackedInt32Array(50, 52, 51), PackedInt32Array(55, 54, 56), PackedInt32Array(56, 54, 57), PackedInt32Array(59, 58, 60), PackedInt32Array(60, 58, 61), PackedInt32Array(63, 62, 64), PackedInt32Array(64, 62, 65), PackedInt32Array(65, 62, 67), PackedInt32Array(65, 67, 66), PackedInt32Array(70, 69, 68), PackedInt32Array(72, 71, 73), PackedInt32Array(73, 71, 74)]
cell_size = 0.2
cell_height = 0.1
agent_radius = 0.2
agent_max_climb = 0.1

[sub_resource type="PlaneMesh" id="PlaneMesh_7py6j"]

[sub_resource type="BoxShape3D" id="BoxShape3D_gl400"]
size = Vector3(12.6237, 0.0213381, 9.11574)

[sub_resource type="BoxMesh" id="BoxMesh_5ujl3"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ov206"]
size = Vector3(0.669475, 1, 2.47127)

[sub_resource type="BoxMesh" id="BoxMesh_2bv6b"]

[sub_resource type="BoxShape3D" id="BoxShape3D_fwhrj"]
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_wuu61"]

[sub_resource type="Sky" id="Sky_ry8j7"]
sky_material = SubResource("ProceduralSkyMaterial_wuu61")

[sub_resource type="Environment" id="Environment_82egu"]
background_mode = 2
background_energy_multiplier = 1.2
sky = SubResource("Sky_ry8j7")
ambient_light_source = 3
ambient_light_color = Color(0.32549, 0.345098, 0.372549, 1)

[node name="Scene" type="Node3D"]

[node name="props" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_12a3e")

[node name="Plane" type="StaticBody3D" parent="props"]
collision_layer = 4

[node name="mesh" type="MeshInstance3D" parent="props/Plane"]
transform = Transform3D(6.32507, 0, 0, 0, 1, 0, 0, 0, 4.5464, 0, 0, 0)
mesh = SubResource("PlaneMesh_7py6j")

[node name="shape" type="CollisionShape3D" parent="props/Plane"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.00711274, 0)
shape = SubResource("BoxShape3D_gl400")

[node name="Wall" type="StaticBody3D" parent="props"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.00381, 0.495025, -0.536902)
collision_layer = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="props/Wall"]
transform = Transform3D(0.663037, 0, 0, 0, 1, 0, 0, 0, 2.47108, 0, 0, 0)
mesh = SubResource("BoxMesh_5ujl3")

[node name="shape" type="CollisionShape3D" parent="props/Wall"]
shape = SubResource("BoxShape3D_ov206")

[node name="Wall2" type="StaticBody3D" parent="props"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.9595, 0.495025, 0.328166)
collision_layer = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="props/Wall2"]
transform = Transform3D(0.663037, 0, 0, 0, 1, 0, 0, 0, 2.47108, 0, 0, 0)
mesh = SubResource("BoxMesh_5ujl3")

[node name="shape" type="CollisionShape3D" parent="props/Wall2"]
shape = SubResource("BoxShape3D_ov206")

[node name="box" type="StaticBody3D" parent="props"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0750965, 0.229401, 0.0322416)
collision_layer = 4

[node name="mesh" type="MeshInstance3D" parent="props/box"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0)
mesh = SubResource("BoxMesh_2bv6b")

[node name="shape" type="CollisionShape3D" parent="props/box"]
shape = SubResource("BoxShape3D_fwhrj")

[node name="npcSpawner" type="Node3D" parent="."]
script = ExtResource("1_d445e")
npcPrefab = ExtResource("2_ch63m")
count = 7
spriteCodes = Array[String](["pony1", "pony2", "pony3", "pony4", "pony5", "pony42", "strikely", "wonderbolt1", "chief1", "guard1"])

[node name="1" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.67614, 0, 2.42464)
script = ExtResource("3_1osu1")
RandomRadius = 3.0

[node name="2" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.634609, 0, 1.49995)
script = ExtResource("3_1osu1")
RandomRadius = 2.0

[node name="3" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.56351, 0, -2.57806)
script = ExtResource("3_1osu1")
RandomRadius = 3.0

[node name="4" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.15687, 0, -2.7719)
script = ExtResource("3_1osu1")
RandomRadius = 3.0

[node name="5" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.03705, 0, 0.327586)
script = ExtResource("3_1osu1")

[node name="6" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.836606, 0, -0.548822)
script = ExtResource("3_1osu1")

[node name="7" type="Node3D" parent="npcSpawner"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.43015, 0, 2.83644)
script = ExtResource("3_1osu1")
RandomRadius = 4.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.829788, -0.412792, -0.375572, 0.0101, -0.683972, 0.729439, -0.557987, 0.601487, 0.571721, 0, 0, 0)
shadow_enabled = true
shadow_opacity = 0.8
directional_shadow_mode = 1
directional_shadow_split_1 = 0.05

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_82egu")

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://objects/characters/player.tscn")
spawn_path = NodePath("..")
